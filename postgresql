Pour créer un schéma relationnel de votre base de données PostgreSQL, voici plusieurs approches :

## 1. Extraction du schéma en ligne de commande

### Avec pg_dump (méthode recommandée)

```bash
# Extraire uniquement la structure (sans les données)
pg_dump -h hostname -U username -d database_name --schema-only > schema.sql

# Ou avec des options plus spécifiques
pg_dump -h hostname -U username -d database_name -s --no-owner --no-privileges > schema.sql
```

### Avec psql pour générer un rapport personnalisé

```bash
psql -h hostname -U username -d database_name -c "
SELECT 
    t.table_name,
    c.column_name,
    c.data_type,
    c.is_nullable,
    c.column_default
FROM information_schema.tables t
JOIN information_schema.columns c ON t.table_name = c.table_name
WHERE t.table_schema = 'public'
ORDER BY t.table_name, c.ordinal_position;
" > tables_structure.txt
```

### Extraire les relations (clés étrangères)

```bash
psql -h hostname -U username -d database_name -c "
SELECT
    tc.constraint_name,
    tc.table_name,
    kcu.column_name,
    ccu.table_name AS foreign_table_name,
    ccu.column_name AS foreign_column_name
FROM information_schema.table_constraints AS tc
JOIN information_schema.key_column_usage AS kcu
    ON tc.constraint_name = kcu.constraint_name
JOIN information_schema.constraint_column_usage AS ccu
    ON ccu.constraint_name = tc.constraint_name
WHERE constraint_type = 'FOREIGN KEY';
" > foreign_keys.txt
```

## 2. Outils de visualisation

### Outils graphiques gratuits

- **DBeaver** : Interface graphique complète avec génération automatique de diagrammes ER
- **pgAdmin** : Outil officiel PostgreSQL avec visualisation des schémas
- **SchemaSpy** : Génère automatiquement de la documentation HTML avec diagrammes

### Outils en ligne de commande

```bash
# SchemaSpy (génère HTML + diagrammes)
java -jar schemaspy.jar -t pgsql -host hostname -db database_name -u username -p password -o output_directory

# Ou avec Docker
docker run --rm -v "$PWD/output:/output" schemaspy/schemaspy:latest -t pgsql -host hostname -db database_name -u username -p password -o /output
```

### Solutions basées sur le web

- **dbdiagram.io** : Importez votre schéma SQL pour créer des diagrammes
- **QuickDBD** : Outil en ligne pour créer rapidement des diagrammes de base de données

### Conversion vers des formats visuels

Si vous avez le fichier SQL, vous pouvez utiliser des outils comme :

- **PlantUML** avec des plugins pour convertir SQL vers diagrammes
- **Mermaid** pour créer des diagrammes relationnels

Quelle approche préférez-vous ? Je peux vous donner plus de détails sur l’une d’entre elles.​​​​​​​​​​​​​​​​